{
  "settings": {
    "analysis": {
      "analyzer": {
        "mac_analyzer": {
          "tokenizer": "standard",
          "filter": [
            "lowercase",
            "porter_stem"
          ]
        }
      }
    }
  },
  "mappings": {
    "properties": {
      "id": {
        "type" : "text",
        "fields" : {
          "keyword" : {
            "type" : "keyword"
          }
        }
      },
      "alternate_id": {
        "type": "nested",
        "properties": {
          "system": {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword"
              }
            }
          },
          "id": {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword"
              }
            }
          }
        }
      },
      "approval_status": {
        "type" : "text",
        "fields" : {
          "keyword" : {
            "type" : "keyword"
          }
        }
      },
      "updated": {
        "type": "date"
      },
      "initial_submission": {
        "type": "date"
      },
      "effective_date": {
        "type": "nested",
        "properties": {
          "date": {
            "type": "date"
          },
          "summary": {
            "type": "text",
            "analyzer": "mac_analyzer"
          }
        }
      },
      "adjudication_date": {
        "type": "date"
      },
      "rai": {
        "type": "nested",
        "properties": {
          "date_requested": {
            "type": "date"
          },
          "date_received": {
            "type": "date"
          },
          "date_withdrawn": {
            "type": "date"
          }
        }
      },
      "component": {
        "type" : "text",
        "fields" : {
          "keyword" : {
            "type" : "keyword"
          }
        }
      },
      "authority": {
        "type" : "text",
        "fields" : {
          "keyword" : {
            "type" : "keyword"
          }
        }
      },
      "service_type": {
        "type" : "text",
        "fields" : {
          "keyword" : {
            "type" : "keyword"
          }
        }
      },
      "subservice_type": {
        "type": "text",
        "analyzer": "mac_analyzer"
      },
      "dependencies": {
        "type": "object",
        "properties": {
          "id": {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword"
              }
            }
          },
          "data": {
            "type": "text",
            "analyzer": "mac_analyzer"
          }
        }
      },
      "outline": {
        "type": "nested",
        "properties": {
          "id": {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword"
              }
            }
          },
          "outline_type": {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword"
              }
            }
          },
          "name": {
            "type": "text",
            "analyzer": "mac_analyzer"
          },
          "sdfs": {
            "type": "keyword"
          }
        }
      },
      "summary": {
        "type": "text",
        "analyzer": "mac_analyzer"
      },
      "priority": {
        "properties": {
          "level": {
            "type": "keyword"
          },
          "reason": {
            "type": "text",
            "analyzer": "mac_analyzer"
          },
          "expedite": {
            "type": "boolean"
          }
        }
      },
      "location": {
        "type": "nested",
        "properties": {
          "name": {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword"
              }
            }
          },
          "postal_abbreviation": {
            "type": "keyword"
          },
          "region": {
            "type" : "text",
            "fields" : {
              "keyword" : {
                "type" : "keyword"
              }
            }
          },
          "regional_office_id": {
            "type": "integer"
          },
          "geolocation": {
            "type": "geo_point"
          }
        }
      }
    }
  }
}